

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">

  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/fluid.png">
  

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="John Doe">
  <meta name="keywords" content="">
  
    <meta name="description" content="一、解决路径报错问题   添加环境变量&nbsp;    成功解决：   二、补充说明（如果cmake无法构建项目成功）  REQUIRES FreeRTOS&nbsp;改为&nbsp;REQUIRES freertos   错误日志：   *  正在文件夹 ESP32_multitasking_led 中执行任务: D:\Espressif\python_env\idf5.4_py3.11_">
<meta property="og:type" content="article">
<meta property="og:title" content="【SoC】【ESP32】无法找到: &#39;${env:IDF_PATH}&#x2F;components&#x2F;&#39; 的路径报错问题以及CMAKE构建不成功问题">
<meta property="og:url" content="http://example.com/2025/07/27/%E3%80%90SoC%E3%80%91%E3%80%90ESP32%E3%80%91%E6%97%A0%E6%B3%95%E6%89%BE%E5%88%B0%20%7BenvIDF_PATH%7Dcomponents%E7%9A%84%E8%B7%AF%E5%BE%84%E6%8A%A5%E9%94%99%E9%97%AE%E9%A2%98%E4%BB%A5%E5%8F%8ACMAKE%E6%9E%84%E5%BB%BA%E4%B8%8D%E6%88%90%E5%8A%9F%E9%97%AE%E9%A2%98/index.html">
<meta property="og:site_name" content="Molesidy Blog">
<meta property="og:description" content="一、解决路径报错问题   添加环境变量&nbsp;    成功解决：   二、补充说明（如果cmake无法构建项目成功）  REQUIRES FreeRTOS&nbsp;改为&nbsp;REQUIRES freertos   错误日志：   *  正在文件夹 ESP32_multitasking_led 中执行任务: D:\Espressif\python_env\idf5.4_py3.11_">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/2025/07/27/%E3%80%90SoC%E3%80%91%E3%80%90ESP32%E3%80%91%E6%97%A0%E6%B3%95%E6%89%BE%E5%88%B0%20%7BenvIDF_PATH%7Dcomponents%E7%9A%84%E8%B7%AF%E5%BE%84%E6%8A%A5%E9%94%99%E9%97%AE%E9%A2%98%E4%BB%A5%E5%8F%8ACMAKE%E6%9E%84%E5%BB%BA%E4%B8%8D%E6%88%90%E5%8A%9F%E9%97%AE%E9%A2%98/7504b3a1798b41209ac301d25a28565f.png">
<meta property="og:image" content="http://example.com/2025/07/27/%E3%80%90SoC%E3%80%91%E3%80%90ESP32%E3%80%91%E6%97%A0%E6%B3%95%E6%89%BE%E5%88%B0%20%7BenvIDF_PATH%7Dcomponents%E7%9A%84%E8%B7%AF%E5%BE%84%E6%8A%A5%E9%94%99%E9%97%AE%E9%A2%98%E4%BB%A5%E5%8F%8ACMAKE%E6%9E%84%E5%BB%BA%E4%B8%8D%E6%88%90%E5%8A%9F%E9%97%AE%E9%A2%98/3cd6aa2e89464ded98a31739ba7c0a8d.png">
<meta property="og:image" content="http://example.com/2025/07/27/%E3%80%90SoC%E3%80%91%E3%80%90ESP32%E3%80%91%E6%97%A0%E6%B3%95%E6%89%BE%E5%88%B0%20%7BenvIDF_PATH%7Dcomponents%E7%9A%84%E8%B7%AF%E5%BE%84%E6%8A%A5%E9%94%99%E9%97%AE%E9%A2%98%E4%BB%A5%E5%8F%8ACMAKE%E6%9E%84%E5%BB%BA%E4%B8%8D%E6%88%90%E5%8A%9F%E9%97%AE%E9%A2%98/8f27a52edace48f8a47c2ba1aa01e19f.png">
<meta property="og:image" content="http://example.com/2025/07/27/%E3%80%90SoC%E3%80%91%E3%80%90ESP32%E3%80%91%E6%97%A0%E6%B3%95%E6%89%BE%E5%88%B0%20%7BenvIDF_PATH%7Dcomponents%E7%9A%84%E8%B7%AF%E5%BE%84%E6%8A%A5%E9%94%99%E9%97%AE%E9%A2%98%E4%BB%A5%E5%8F%8ACMAKE%E6%9E%84%E5%BB%BA%E4%B8%8D%E6%88%90%E5%8A%9F%E9%97%AE%E9%A2%98/84230e1c291d4c55a6bc9ce49d4cc126.png">
<meta property="og:image" content="http://example.com/2025/07/27/%E3%80%90SoC%E3%80%91%E3%80%90ESP32%E3%80%91%E6%97%A0%E6%B3%95%E6%89%BE%E5%88%B0%20%7BenvIDF_PATH%7Dcomponents%E7%9A%84%E8%B7%AF%E5%BE%84%E6%8A%A5%E9%94%99%E9%97%AE%E9%A2%98%E4%BB%A5%E5%8F%8ACMAKE%E6%9E%84%E5%BB%BA%E4%B8%8D%E6%88%90%E5%8A%9F%E9%97%AE%E9%A2%98/1c4e9294376c4caea159d07648b6531e.png">
<meta property="article:published_time" content="2025-07-27T09:20:23.000Z">
<meta property="article:modified_time" content="2025-11-17T18:10:55.688Z">
<meta property="article:author" content="John Doe">
<meta property="article:tag" content="ESP32 ESP-IDF">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://example.com/2025/07/27/%E3%80%90SoC%E3%80%91%E3%80%90ESP32%E3%80%91%E6%97%A0%E6%B3%95%E6%89%BE%E5%88%B0%20%7BenvIDF_PATH%7Dcomponents%E7%9A%84%E8%B7%AF%E5%BE%84%E6%8A%A5%E9%94%99%E9%97%AE%E9%A2%98%E4%BB%A5%E5%8F%8ACMAKE%E6%9E%84%E5%BB%BA%E4%B8%8D%E6%88%90%E5%8A%9F%E9%97%AE%E9%A2%98/7504b3a1798b41209ac301d25a28565f.png">
  
  
  
  <title>【SoC】【ESP32】无法找到: &#39;${env:IDF_PATH}/components/&#39; 的路径报错问题以及CMAKE构建不成功问题 - Molesidy Blog</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1749284_5i9bdhy70f8.css">



<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1736178_k526ubmyhba.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.9.8","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"leancloud":{"app_id":"382JzdvN94i0Gilod7qOmXIh-gzGzoHsz","app_key":"hJeKUi4Je8aWf2npb4mhsFAl","server_url":"https://382jzdvn.lc-cn-n1-shared.com","path":"window.location.pathname","ignore_local":false},"umami":{"src":null,"website_id":null,"domains":null,"start_time":"2024-01-01T00:00:00.000Z","token":null,"api_server":null}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  

  

  

  

  

  
    
  



  
<meta name="generator" content="Hexo 8.1.1"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Molesidy&#39;s Blog</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/" target="_self">
                <i class="iconfont icon-archive-fill"></i>
                <span>归档</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/" target="_self">
                <i class="iconfont icon-category-fill"></i>
                <span>分类</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/" target="_self">
                <i class="iconfont icon-tags-fill"></i>
                <span>标签</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>关于</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="【SoC】【ESP32】无法找到: &#39;${env:IDF_PATH}/components/&#39; 的路径报错问题以及CMAKE构建不成功问题"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2025-07-27 17:20" pubdate>
          2025年7月27日 下午
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          1.1k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          10 分钟
        
      </span>
    

    
    
      
        <span id="leancloud-page-views-container" class="post-meta" style="display: none">
          <i class="iconfont icon-eye" aria-hidden="true"></i>
          <span id="leancloud-page-views"></span> 次
        </span>
        
      
      
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">【SoC】【ESP32】无法找到: &#39;${env:IDF_PATH}/components/&#39; 的路径报错问题以及CMAKE构建不成功问题</h1>
            
              <p id="updated-time" class="note note-info" style="display: none">
                
                  
                    本文最后更新于 2025-11-18T02:10:55+08:00
                  
                  

                
              </p>
            
            
              <div class="markdown-body">
                
                <span id="more"></span>

<h1>一、解决路径报错问题</h1>

<p><img src="/2025/07/27/%E3%80%90SoC%E3%80%91%E3%80%90ESP32%E3%80%91%E6%97%A0%E6%B3%95%E6%89%BE%E5%88%B0%20%7BenvIDF_PATH%7Dcomponents%E7%9A%84%E8%B7%AF%E5%BE%84%E6%8A%A5%E9%94%99%E9%97%AE%E9%A2%98%E4%BB%A5%E5%8F%8ACMAKE%E6%9E%84%E5%BB%BA%E4%B8%8D%E6%88%90%E5%8A%9F%E9%97%AE%E9%A2%98/7504b3a1798b41209ac301d25a28565f.png" srcset="/img/loading.gif" lazyload></p>
<p>添加环境变量&nbsp;</p>

<p><img src="/2025/07/27/%E3%80%90SoC%E3%80%91%E3%80%90ESP32%E3%80%91%E6%97%A0%E6%B3%95%E6%89%BE%E5%88%B0%20%7BenvIDF_PATH%7Dcomponents%E7%9A%84%E8%B7%AF%E5%BE%84%E6%8A%A5%E9%94%99%E9%97%AE%E9%A2%98%E4%BB%A5%E5%8F%8ACMAKE%E6%9E%84%E5%BB%BA%E4%B8%8D%E6%88%90%E5%8A%9F%E9%97%AE%E9%A2%98/3cd6aa2e89464ded98a31739ba7c0a8d.png" srcset="/img/loading.gif" lazyload></p>
<p><img src="/2025/07/27/%E3%80%90SoC%E3%80%91%E3%80%90ESP32%E3%80%91%E6%97%A0%E6%B3%95%E6%89%BE%E5%88%B0%20%7BenvIDF_PATH%7Dcomponents%E7%9A%84%E8%B7%AF%E5%BE%84%E6%8A%A5%E9%94%99%E9%97%AE%E9%A2%98%E4%BB%A5%E5%8F%8ACMAKE%E6%9E%84%E5%BB%BA%E4%B8%8D%E6%88%90%E5%8A%9F%E9%97%AE%E9%A2%98/8f27a52edace48f8a47c2ba1aa01e19f.png" srcset="/img/loading.gif" lazyload></p>
<p>成功解决：</p>

<p><img src="/2025/07/27/%E3%80%90SoC%E3%80%91%E3%80%90ESP32%E3%80%91%E6%97%A0%E6%B3%95%E6%89%BE%E5%88%B0%20%7BenvIDF_PATH%7Dcomponents%E7%9A%84%E8%B7%AF%E5%BE%84%E6%8A%A5%E9%94%99%E9%97%AE%E9%A2%98%E4%BB%A5%E5%8F%8ACMAKE%E6%9E%84%E5%BB%BA%E4%B8%8D%E6%88%90%E5%8A%9F%E9%97%AE%E9%A2%98/84230e1c291d4c55a6bc9ce49d4cc126.png" srcset="/img/loading.gif" lazyload></p>
<h1>二、补充说明（如果cmake无法构建项目成功）</h1>

<p>REQUIRES FreeRTOS&nbsp;改为&nbsp;REQUIRES freertos</p>

<p><img src="/2025/07/27/%E3%80%90SoC%E3%80%91%E3%80%90ESP32%E3%80%91%E6%97%A0%E6%B3%95%E6%89%BE%E5%88%B0%20%7BenvIDF_PATH%7Dcomponents%E7%9A%84%E8%B7%AF%E5%BE%84%E6%8A%A5%E9%94%99%E9%97%AE%E9%A2%98%E4%BB%A5%E5%8F%8ACMAKE%E6%9E%84%E5%BB%BA%E4%B8%8D%E6%88%90%E5%8A%9F%E9%97%AE%E9%A2%98/1c4e9294376c4caea159d07648b6531e.png" srcset="/img/loading.gif" lazyload></p>
<p>错误日志：</p>

<pre>
<code class="language-cpp">*  正在文件夹 ESP32_multitasking_led 中执行任务: D:\Espressif\python_env\idf5.4_py3.11_env\Scripts\python.exe D:\Espressif\frameworks\esp-idf-v5.4\tools\idf.py -B e:\ESP_IDF_Projects\ESP_IDF_Examples_Workspaces\ESP32_multitasking_led\build -DSDKCONFIG='e:\ESP_IDF_Projects\ESP_IDF_Examples_Workspaces\ESP32_multitasking_led\sdkconfig' reconfigure 

Executing action: reconfigure
Running cmake in directory E:\ESP_IDF_Projects\ESP_IDF_Examples_Workspaces\ESP32_multitasking_led\build
Executing "cmake -G Ninja -DPYTHON_DEPS_CHECKED=1 -DPYTHON=D:\Espressif\python_env\idf5.4_py3.11_env\Scripts\python.exe -DESP_PLATFORM=1 -DSDKCONFIG='e:\ESP_IDF_Projects\ESP_IDF_Examples_Workspaces\ESP32_multitasking_led\sdkconfig' -DCCACHE_ENABLE=1 E:\ESP_IDF_Projects\ESP_IDF_Examples_Workspaces\ESP32_multitasking_led"...
-- Found Git: D:/Espressif/tools/idf-git/2.39.2/cmd/git.exe (found version "2.39.2.windows.1")
-- ccache will be used for faster recompilation
-- The C compiler identification is GNU 14.2.0
-- The CXX compiler identification is GNU 14.2.0
-- The ASM compiler identification is GNU
-- Found assembler: D:/Espressif/tools/xtensa-esp-elf/esp-14.2.0_20241119/xtensa-esp-elf/bin/xtensa-esp32s3-elf-gcc.exe
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: D:/Espressif/tools/xtensa-esp-elf/esp-14.2.0_20241119/xtensa-esp-elf/bin/xtensa-esp32s3-elf-gcc.exe - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: D:/Espressif/tools/xtensa-esp-elf/esp-14.2.0_20241119/xtensa-esp-elf/bin/xtensa-esp32s3-elf-g++.exe - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
-- git rev-parse returned 'fatal: not a git repository (or any of the parent directories): .git'
-- Could not use 'git describe' to determine PROJECT_VER.
-- Building ESP-IDF components for target esp32s3
CMake Error at D:/Espressif/frameworks/esp-idf-v5.4/tools/cmake/build.cmake:318 (message):
  Failed to resolve component 'FreeRTOS' required by component 'main':
  unknown name.
Call Stack (most recent call first):
  D:/Espressif/frameworks/esp-idf-v5.4/tools/cmake/build.cmake:361 (__build_resolve_and_add_req)
  D:/Espressif/frameworks/esp-idf-v5.4/tools/cmake/build.cmake:665 (__build_expand_requirements)
  D:/Espressif/frameworks/esp-idf-v5.4/tools/cmake/project.cmake:710 (idf_build_process)
  CMakeLists.txt:6 (project)


-- Configuring incomplete, errors occurred!
HINT: The component 'FreeRTOS' could not be found. This could be because: component name was misspelled, the component was not added to the build, the component has been moved to the IDF component manager, the component has been removed and refactored into some other component or the component may not be supported by the selected target.
Please look out for component in 'https://components.espressif.com' and add using 'idf.py add-dependency' command.
Refer to the migration guide for more details about moved components.
Refer to the build-system guide for more details about how components are found and included in the build.
cmake failed with exit code 1, output of the command is in the E:\ESP_IDF_Projects\ESP_IDF_Examples_Workspaces\ESP32_multitasking_led\build\log\idf_py_stderr_output_12868 and E:\ESP_IDF_Projects\ESP_IDF_Examples_Workspaces\ESP32_multitasking_led\build\log\idf_py_stdout_output_12868

 *  终端进程“D:\Espressif\python_env\idf5.4_py3.11_env\Scripts\python.exe 'D:\Espressif\frameworks\esp-idf-v5.4\tools\idf.py', '-B', 'e:\ESP_IDF_Projects\ESP_IDF_Examples_Workspaces\ESP32_multitasking_led\build', '-DSDKCONFIG='e:\ESP_IDF_Projects\ESP_IDF_Examples_Workspaces\ESP32_multitasking_led\sdkconfig'', 'reconfigure'”已终止，退出代码: 2。
</code></pre>

<p>分析过程：</p>

<p>从你给出的错误信息来看，在构建 ESP32 多任务 LED 项目时，CMake 没办法找到并解析<code>FreeRTOS</code>组件，进而致使配置失败。下面为你详细分析可能的原因以及相应的解决办法：</p>

<h3><strong>1、错误原因剖析</strong></h3>

<ol>
	<li>
	<p><strong>组件名称拼写有误</strong><br />
	在 ESP-IDF v5.4 里，FreeRTOS 组件的名称已经变为<code>freertos</code>（全部小写），但你的项目或许仍在使用旧名称<code>FreeRTOS</code>。</p>
	</li>
	<li>
	<p><strong>组件路径缺失或者损坏</strong></p>

<pre><code class="hljs">&lt;ul&gt;
	&lt;li&gt;FreeRTOS 组件原本属于 ESP-IDF 的核心组件，不过在 v5.0 版本之后，部分组件被迁移到了&lt;strong&gt;组件管理器&lt;/strong&gt;（Component Manager）。&lt;/li&gt;
	&lt;li&gt;要是你的 ESP-IDF 安装不完整，就可能会丢失 FreeRTOS 组件。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;项目配置文件存在问题&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;code&gt;CMakeLists.txt&lt;/code&gt;文件里对组件的引用格式不正确。&lt;/li&gt;
	&lt;li&gt;&lt;code&gt;sdkconfig&lt;/code&gt;文件被损坏或者与当前的 ESP-IDF 版本不兼容。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;版本不兼容状况&lt;/strong&gt;&lt;br /&gt;
项目是基于旧版 ESP-IDF 开发的，没有适配 v5.4 的组件结构变化。&lt;/p&gt;
&lt;/li&gt;
</code></pre>
</ol>

<h3><strong>2、解决办法</strong></h3>

<h4><strong>1. 修正组件名称引用</strong></h4>

<p>把<code>CMakeLists.txt</code>文件中对 FreeRTOS 的引用从<code>FreeRTOS</code>改成<code>freertos</code>（全部小写）。</p>

<p><strong>示例修改</strong>：</p>

<p>cmake</p>

<pre>
<code># 原来的错误引用（假设）
idf_component_register(REQUIRES FreeRTOS ...)

# 修改为
idf_component_register(REQUIRES freertos ...)
</code></pre>

<h4><strong>2. 重新安装 ESP-IDF 工具链</strong></h4>

<p>借助 ESP-IDF 工具安装器重新安装或者更新工具链，保证所有组件都完整无缺。</p>

<h4><strong>3. 手动添加 FreeRTOS 依赖</strong></h4>

<p>通过组件管理器添加 FreeRTOS 依赖：</p>

<p>bash</p>

<pre>
<code>idf.py add-dependency "espressif/freertos^10.6.0"
</code></pre>

<h4><strong>4. 检查并更新 CMakeLists.txt</strong></h4>

<p>确认项目的<code>CMakeLists.txt</code>文件正确引用了 FreeRTOS 组件。</p>

<p><strong>正确示例</strong>：</p>

<p>cmake</p>

<pre>
<code>idf_component_register(
    SRCS "main.c"
    INCLUDE_DIRS "."
    REQUIRES freertos  # 确保使用小写的freertos
)
</code></pre>

<h4><strong>5. 清除并重新配置项目</strong></h4>

<p>删除构建目录，然后重新进行配置：</p>

<p>bash</p>

<pre>
<code>idf.py fullclean
idf.py set-target esp32s3  # 根据你的目标芯片进行设置
idf.py menuconfig  # 可选：打开配置菜单进行验证
idf.py build
</code></pre>

<p></p>

<h4><strong>6. 验证 ESP-IDF 版本兼容性</strong></h4>

<ul>
	<li>检查项目是否与 ESP-IDF v5.4 兼容，必要时参考<a data-link-icon="https://csdnimg.cn/release/blog_editor_html/release2.3.9/ckeditor/plugins/CsdnLink/icons/icon-default.png?t=P4F5" data-link-title="官方迁移指南" target="_blank" rel="noopener" href="https://docs.espressif.com/projects/esp-idf/en/latest/esp32/migration-guides/index.html" title="官方迁移指南">官方迁移指南</a>。</li>
	<li>考虑暂时切换到旧版 ESP-IDF（例如 v4.4）来运行旧项目。</li>
</ul>

<h3><strong>3、预防措施</strong></h3>

<ol>
	<li>
	<p><strong>使用版本控制系统</strong><br />
	利用 Git 管理项目，避免直接修改 ESP-IDF 的核心文件。</p>
	</li>
	<li>
	<p><strong>定期更新工具链</strong><br />
	通过<code>idf.py update</code>命令定期更新 ESP-IDF，减少版本不兼容的问题。</p>
	</li>
	<li>
	<p><strong>参考官方示例</strong><br />
	参考 ESP-IDF 的<a data-link-icon="https://csdnimg.cn/release/blog_editor_html/release2.3.9/ckeditor/plugins/CsdnLink/icons/icon-default.png?t=P4F5" data-link-title="官方多任务示例" target="_blank" rel="noopener" href="https://github.com/espressif/esp-idf/tree/master/examples/system/freertos" title="官方多任务示例">官方多任务示例</a>，确保项目结构正确无误。</p>
	</li>
</ol>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/SoC%E5%AD%A6%E4%B9%A0%E4%B8%93%E6%A0%8F/" class="category-chain-item">SoC学习专栏</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/ESP32-ESP-IDF/" class="print-no-link">#ESP32 ESP-IDF</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>【SoC】【ESP32】无法找到: &#39;${env:IDF_PATH}/components/&#39; 的路径报错问题以及CMAKE构建不成功问题</div>
      <div>http://example.com/2025/07/27/【SoC】【ESP32】无法找到 {envIDF_PATH}components的路径报错问题以及CMAKE构建不成功问题/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>John Doe</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2025年7月27日</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>许可协议</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - 署名">
                    <i class="iconfont icon-cc-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2025/07/31/%E3%80%90Bluetooth%E3%80%91%E3%80%90%E5%9F%BA%E7%A1%80%E7%AF%87%E3%80%91%E7%AC%AC%E4%B8%80%E7%AB%A0%20%E5%AF%B9%E4%BA%8E%E8%93%9D%E7%89%99%E9%80%9A%E4%BF%A1%E5%8D%8F%E8%AE%AE%E7%9A%84%E5%88%9D%E6%AD%A5%E8%AE%A4%E8%AF%86/" title="【Bluetooth】【基础篇】第一章 对于蓝牙通信协议的初步认识">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">【Bluetooth】【基础篇】第一章 对于蓝牙通信协议的初步认识</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2025/07/27/%E3%80%90Git%E3%80%91Git%20LFS%E7%9A%84%E4%BD%BF%E7%94%A8/" title="【Git】Git LFS的使用">
                        <span class="hidden-mobile">【Git】Git LFS的使用</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
  
  
    <article id="comments" lazyload>
      
  <div id="valine"></div>
  <script type="text/javascript">
    Fluid.utils.loadComments('#valine', function() {
      Fluid.utils.createScript('https://lib.baomitu.com/valine/1.5.1/Valine.min.js', function() {
        var options = Object.assign(
          {"appId":"382JzdvN94i0Gilod7qOmXIh-gzGzoHsz","appKey":"hJeKUi4Je8aWf2npb4mhsFAl","path":"window.location.pathname","placeholder":null,"avatar":"retro","meta":["nick","mail","link"],"requiredFields":[],"pageSize":10,"lang":"zh-CN","highlight":false,"recordIP":false,"serverURLs":"","emojiCDN":null,"emojiMaps":null,"enableQQ":false},
          {
            el: "#valine",
            path: window.location.pathname
          }
        )
        new Valine(options);
        Fluid.utils.waitElementVisible('#valine .vcontent', () => {
          var imgSelector = '#valine .vcontent img:not(.vemoji)';
          Fluid.plugins.imageCaption(imgSelector);
          Fluid.plugins.fancyBox(imgSelector);
        })
      });
    });
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


    </article>
  


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>目录</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
    <div class="statistics">
  
  

  
    
      <span id="leancloud-site-pv-container" style="display: none">
        总访问 
        <span id="leancloud-site-pv"></span>
         次
      </span>
    
    
      <span id="leancloud-site-uv-container" style="display: none">
        总访客 
        <span id="leancloud-site-uv"></span>
         人
      </span>
    
    

  

</div>

  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  var relativeDate = function() {
    var updatedTime = document.getElementById('updated-time');
    if (updatedTime) {
      var text = updatedTime.textContent;
      var reg = /\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(?:Z|[+-]\d{2}:\d{2})/;
      var matchs = text.match(reg);
      if (matchs) {
        var relativeTime = moment(matchs[0]).fromNow();
        updatedTime.textContent = text.replace(reg, relativeTime);
      }
      updatedTime.style.display = '';
    }
  };
  Fluid.utils.createScript('https://lib.baomitu.com/moment.js/2.29.4/moment.min.js', function() {
    if (!'zh-cn'.startsWith('en')) {
      Fluid.utils.createScript('https://lib.baomitu.com/moment.js/2.29.4/locale/zh-cn.min.js', function() {
        relativeDate();
      });
    } else {
      relativeDate();
    }
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/5.0.0/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script defer src="/js/leancloud.js" ></script>

  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
